## MichiganLabs Python Configurations

MichiganLabs expects that all python code that is generated by MichiganLabs has 100% test coverage. Any
project that originates outside of MichiganLabs should have 100% coverage on all _new_ lines of
code but will not be able to utilize this `.coveragerc` file (set to 100%).

Any changes to these files for a project should be pushed back to this repository. It is recommended that this
repository be tracked as a git submodule so it can be synced between this repository and other projects easily:

```bash
git submodule add https://github.com/MichiganLabs/python-config.git .ml-python-configs
```

To update the settings in your project, run:

```bash
git submodule foreach git pull
```

Then commit the changes to .gitmodules


### Pylint
This `.pylintrc` file should be used as the configuration for pylint on all projects. To use it in your project you will need to use the `--rcfile`  flag. For example:

```bash
pylint --rcfile=.ml-python-configs/.pylintrc src
```

There is also an included configuration specifically for tests. This should also be used and eliminates a couple of the more annoying configurations like `"too-many-locals"`.

```bash
pylint --rcfile=.ml-python-configs/.tests-pylintrc tests
```

# Pytest
This `.coveragerc` file should be used on all python projects going forward. It requires
100% test coverage. Although this number may be adjusted if the project was not created by MichiganLabs, anything below 100% becomes somewhat meaningless.

```bash
poetry run pytest --cov=src --cov-config=.ml-python-configs/.coveragerc tests
```
